<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  'HTML-CSS': {
    scale: 110,
    minScaleAdjust: 50,
    preferredFont: 'TeX',
    availableFonts: ['TeX'],
    webFont: 'TeX',
    imageFont: null,
    styles: {
      '.MathJax_Display': {
        'margin': '1em 0',
        'text-align': 'center'
      }
    }
  },
  SVG: {
    scale: 110,
    minScaleAdjust: 50,
    font: 'TeX'
  }
});

MathJax.Hub.Queue(['Typeset', MathJax.Hub]);

if (typeof document$ !== 'undefined') {
  document$.subscribe(function() {
    MathJax.Hub.Queue(['Typeset', MathJax.Hub]);
  });
}

document.addEventListener('DOMContentLoaded', function() {
  const contentArea = document.querySelector('.md-content');
  if (contentArea) {
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.addedNodes.length > 0) {
          MathJax.Hub.Queue(['Typeset', MathJax.Hub]);
        }
      });
    });
    
    observer.observe(contentArea, {
      childList: true,
      subtree: true
    });
  }
});
</script>